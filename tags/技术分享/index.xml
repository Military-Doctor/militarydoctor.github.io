<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>æŠ€æœ¯åˆ†äº« on Junyi's Lab</title><link>/tags/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/</link><description>Junyi's Lab (æŠ€æœ¯åˆ†äº«)</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><managingEditor>junyi.h@comp.nus.edu.sg (Junyi Hou)</managingEditor><webMaster>junyi.h@comp.nus.edu.sg (Junyi Hou)</webMaster><lastBuildDate>Tue, 30 Jan 2024 13:12:00 +0800</lastBuildDate><atom:link href="/tags/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/index.xml" rel="self" type="application/rss+xml"/><item><title>ä½¿ç”¨ git-crypt åŠ å¯†ä½ çš„ä»“åº“</title><link>/posts/git-crypt/</link><pubDate>Tue, 30 Jan 2024 13:12:00 +0800</pubDate><author>junyi.h@comp.nus.edu.sg (Junyi Hou)</author><guid>/posts/git-crypt/</guid><description>&lt;p>&lt;code>git-crypt&lt;/code> enables transparent encryption and decryption of files in a git repository.&lt;/p>
&lt;p>Here is a demo of how to use &lt;code>git-crypt&lt;/code> to encrypt files in a git repository.&lt;/p>
&lt;p>&lt;img alt="BasicFlow" src="https://www.junyi.dev/posts/git-crypt/flow.svg">&lt;/p>
&lt;h2 id="step-1-install-git-crypt" >
&lt;div>
&lt;a href="#step-1-install-git-crypt">
#
&lt;/a>
Step 1: Install git-crypt
&lt;/div>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>brew install git-crypt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git-crypt init &lt;span style="color:#78787e"># in an initialized git repository&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Specify files to encrypt by creating a .gitattributes file:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-gitattributes" data-lang="gitattributes"># The config is similar to .gitignore
accounts/*.bean filter=git-crypt diff=git-crypt
*.md filter=git-crypt diff=git-crypt
*.png filter=git-crypt diff=git-crypt
*.jpg filter=git-crypt diff=git-crypt
*.excalidraw filter=git-crypt diff=git-crypt
*.txt filter=git-crypt diff=git-crypt
*.pdf filter=git-crypt diff=git-crypt
*.json filter=git-crypt diff=git-crypt
# Making sure that .gitattributes is never encrypted. DON&amp;#39;T TOUCH THAT LINE AND ONE BELOW
.gitattributes !filter !diff
&lt;/code>&lt;/pre>&lt;h2 id="step-2-add-files" >
&lt;div>
&lt;a href="#step-2-add-files">
#
&lt;/a>
Step 2: Add files
&lt;/div>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>git add .
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git commit -m &lt;span style="color:#5af78e">&amp;#34;Add git-crypt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git push
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="step-3-check-git-crypt-status" >
&lt;div>
&lt;a href="#step-3-check-git-crypt-status">
#
&lt;/a>
Step 3: Check git-crypt status
&lt;/div>
&lt;/h2>
&lt;ul>
&lt;li>&lt;code>git-crypt status -e&lt;/code> Show encrypted files only&lt;/li>
&lt;li>&lt;code>git-crypt status -u&lt;/code> Show unencrypted files only&lt;/li>
&lt;li>&lt;code>git-crypt status -f&lt;/code> Fix problems with the repository&lt;/li>
&lt;/ul>
&lt;h2 id="results" >
&lt;div>
&lt;a href="#results">
#
&lt;/a>
Results
&lt;/div>
&lt;/h2>
&lt;p>The beancount file is encrypted.&lt;/p>
&lt;p>&lt;img alt="Alt text" src="https://www.junyi.dev/posts/git-crypt/image-1.png">&lt;/p>
&lt;h2 id="åŽç»­æ›´æ–°" >
&lt;div>
&lt;a href="#%e5%90%8e%e7%bb%ad%e6%9b%b4%e6%96%b0">
#
&lt;/a>
åŽç»­æ›´æ–°
&lt;/div>
&lt;/h2>
&lt;h3 id="1-æœˆ-30-æ—¥æ›´æ–°" >
&lt;div>
&lt;a href="#1-%e6%9c%88-30-%e6%97%a5%e6%9b%b4%e6%96%b0">
##
&lt;/a>
1 æœˆ 30 æ—¥æ›´æ–°
&lt;/div>
&lt;/h3>
&lt;p>æˆ‘ä¹±çŽ©ï¼ŒæŠŠè‡ªå·±é”æ­»äº†ã€‚&lt;/p>
&lt;p>è¿™ä¸ªå‚»é€¼å·¥å…·ï¼Œæ˜¯å¯ä»¥åœ¨ä½ ä¸ export symmetric key çš„æƒ…å†µä¸‹ï¼Œå…è®¸ä½  lock ä»“åº“çš„ã€‚&lt;/p>
&lt;p>ç„¶åŽæˆ‘å°±åœ¨æ²¡æœ‰ export symmetric key çš„æƒ…å†µä¸‹ï¼ŒæŠŠè‡ªå·±é”æ­»äº†ã€‚&lt;/p>
&lt;p>æ–‡ä»¶æ²¡æœ‰å¤‡ä»½ï¼Œå› ä¸ºæˆ‘ä¸ºäº†â€œå®‰å…¨â€ï¼Œåªä¿ç•™äº†åŠ å¯†åŽçš„ commitï¼ŒåŽ†å²çš„æäº¤æ—¥å¿—éƒ½åˆ äº†ã€‚&lt;/p>
&lt;p>ðŸ˜Š çœŸæ˜¯æ„‰å¿«çš„ä¸€å¤©å‘¢&lt;/p></description></item></channel></rss>